model Conversation {
    createdAt DateTime
    expiredAt DateTime
    id        Int      @id @default(autoincrement())
    name      String
    type      String

    participants ConversationXParticipant[]

    @@index([expiredAt])
    @@index([type])
    @@map("conversations")
}

model ConversationXParticipant {
    conversation Int
    createdAt    DateTime
    data         Json
    expiredAt    DateTime
    participant  Int

    xConversation Conversation @relation(fields: [conversation], references: [id])

    @@id([conversation, participant])
    @@unique([participant, conversation])
    @@index([expiredAt])
    @@map("conversations-x-participants")
}
